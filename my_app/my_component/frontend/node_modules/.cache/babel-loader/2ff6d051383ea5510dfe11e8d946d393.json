{"ast":null,"code":"var _jsxFileName = \"/Users/alimenzi/Desktop/streamlit/streamlit-react/my_app/my_component/frontend/src/MyForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { Streamlit } from \"streamlit-component-lib\";\nimport { useRenderData } from \"streamlit-component-lib-react-hooks\";\nimport React, { useState, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n/**\n * This is a React-based component template with functional component and hooks.\n */\nconst MyForm = () => {\n  _s();\n\n  // \"useRenderData\" returns the renderData passed from Python.\n  const renderData = useRenderData(); // const token =\n  //   \"pk.eyJ1IjoiYWxpY2Vtc2FwaWVudCIsImEiOiJjbDJ5MHBtZ3MxMHk0M25wZmFnaWdiaWx4In0.aTDpzRDIUG50F-Iopnhb4Q\"\n\n  const defaultAddress = {\n    address: \"\",\n    unit: \"\",\n    city: \"\",\n    state: \"\",\n    country: \"\",\n    postcode: \"\"\n  };\n  const [address, setAddress] = useState(defaultAddress);\n  const [isFocused, setIsFocused] = useState(false);\n  /** Click handler for our \"Click Me!\" button. */\n\n  const handleInputChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setAddress({ ...address,\n      [name]: value\n    });\n  }, [address]);\n  const handleSubmit = useCallback(e => {\n    e.preventDefault();\n    console.log(address);\n    const stringAddress = JSON.stringify(address);\n    console.log(\"string version: \" + stringAddress);\n    Streamlit.setComponentValue(address);\n  }, [address]);\n  /** Focus handler for our \"Click Me!\" button. */\n\n  const onFocus = useCallback(() => {\n    setIsFocused(true);\n  }, []);\n  /** Blur handler for our \"Click Me!\" button. */\n\n  const onBlur = useCallback(() => {\n    setIsFocused(false);\n  }, []); // Arguments that are passed to the plugin in Python are accessible\n  // via `renderData.args`. Here, we access the \"name\" arg.\n\n  const name = renderData.args[\"name\"];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Hello, \", name, \"! \\xA0\", /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"address\",\n        value: address.address,\n        placeholder: \"Address\",\n        type: \"text\",\n        autoComplete: \"address-line1\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"unit\",\n        value: address.unit,\n        placeholder: \"Unit number\",\n        type: \"text\",\n        autoComplete: \"address-line2\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"city\",\n        value: address.city,\n        placeholder: \"City\",\n        type: \"text\",\n        autoComplete: \"address-level2\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"state\",\n        value: address.state,\n        placeholder: \"State\",\n        type: \"text\",\n        autoComplete: \"address-level1\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"country\",\n        value: address.country,\n        placeholder: \"Country\",\n        type: \"text\",\n        autoComplete: \"country\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"postcode\",\n        value: address.postcode,\n        placeholder: \"Postcode\",\n        type: \"text\",\n        autoComplete: \"postal-code\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}; // export default withStreamlitConnection(MyForm)\n\n\n_s(MyForm, \"KXpciHTBsuJo376askH/YaL2rSY=\", false, function () {\n  return [useRenderData];\n});\n\n_c = MyForm;\nexport default MyForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyForm\");","map":{"version":3,"names":["Streamlit","useRenderData","React","useState","useCallback","MyForm","renderData","defaultAddress","address","unit","city","state","country","postcode","setAddress","isFocused","setIsFocused","handleInputChange","e","name","value","target","handleSubmit","preventDefault","console","log","stringAddress","JSON","stringify","setComponentValue","onFocus","onBlur","args"],"sources":["/Users/alimenzi/Desktop/streamlit/streamlit-react/my_app/my_component/frontend/src/MyForm.tsx"],"sourcesContent":["import {\n  Streamlit,\n  StreamlitComponentBase,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport { useRenderData } from \"streamlit-component-lib-react-hooks\"\nimport React, { useState, useCallback } from \"react\"\nimport { AddressAutofill } from \"@mapbox/search-js-react\"\n\n/**\n * This is a React-based component template with functional component and hooks.\n */\nconst MyForm: React.VFC = () => {\n  // \"useRenderData\" returns the renderData passed from Python.\n  const renderData = useRenderData()\n\n  // const token =\n  //   \"pk.eyJ1IjoiYWxpY2Vtc2FwaWVudCIsImEiOiJjbDJ5MHBtZ3MxMHk0M25wZmFnaWdiaWx4In0.aTDpzRDIUG50F-Iopnhb4Q\"\n\n  const defaultAddress = {\n    address: \"\",\n    unit: \"\",\n    city: \"\",\n    state: \"\",\n    country: \"\",\n    postcode: \"\",\n  }\n  const [address, setAddress] = useState(defaultAddress)\n  const [isFocused, setIsFocused] = useState(false)\n\n  /** Click handler for our \"Click Me!\" button. */\n  const handleInputChange = useCallback(\n    (e) => {\n      const { name, value } = e.target\n      setAddress({\n        ...address,\n        [name]: value,\n      })\n    },\n    [address]\n  )\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault()\n      console.log(address)\n      const stringAddress = JSON.stringify(address)\n      console.log(\"string version: \" + stringAddress)\n      Streamlit.setComponentValue(address)\n    },\n    [address]\n  )\n\n  /** Focus handler for our \"Click Me!\" button. */\n  const onFocus = useCallback(() => {\n    setIsFocused(true)\n  }, [])\n\n  /** Blur handler for our \"Click Me!\" button. */\n  const onBlur = useCallback(() => {\n    setIsFocused(false)\n  }, [])\n\n  // Arguments that are passed to the plugin in Python are accessible\n  // via `renderData.args`. Here, we access the \"name\" arg.\n  const name = renderData.args[\"name\"]\n\n  return (\n    <div>\n      Hello, {name}! &nbsp;\n      <form onSubmit={(e) => handleSubmit(e)}>\n        {/* <AddressAutofill accessToken={token}> */}\n        <input\n          name=\"address\"\n          value={address.address}\n          placeholder=\"Address\"\n          type=\"text\"\n          autoComplete=\"address-line1\"\n          onChange={handleInputChange}\n        />\n        {/* </AddressAutofill> */}\n        <input\n          name=\"unit\"\n          value={address.unit}\n          placeholder=\"Unit number\"\n          type=\"text\"\n          autoComplete=\"address-line2\"\n          onChange={handleInputChange}\n        />\n        <input\n          name=\"city\"\n          value={address.city}\n          placeholder=\"City\"\n          type=\"text\"\n          autoComplete=\"address-level2\"\n          onChange={handleInputChange}\n        />\n        <input\n          name=\"state\"\n          value={address.state}\n          placeholder=\"State\"\n          type=\"text\"\n          autoComplete=\"address-level1\"\n          onChange={handleInputChange}\n        />\n        <input\n          name=\"country\"\n          value={address.country}\n          placeholder=\"Country\"\n          type=\"text\"\n          autoComplete=\"country\"\n          onChange={handleInputChange}\n        />\n        <input\n          name=\"postcode\"\n          value={address.postcode}\n          placeholder=\"Postcode\"\n          type=\"text\"\n          autoComplete=\"postal-code\"\n          onChange={handleInputChange}\n        />\n        <button type=\"submit\">Submit</button>\n      </form>\n    </div>\n  )\n}\n\n// export default withStreamlitConnection(MyForm)\nexport default MyForm\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}